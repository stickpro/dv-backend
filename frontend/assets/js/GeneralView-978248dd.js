import{d as S,f,m as y,g as v,k as V,_ as A,r as d,o as n,c as _,a as t,t as s,e as i,h as g,i as $,w as c,l as w,j as U}from"./flag-icons.min-86ec5348.js";import{U as I}from"./UiSelect-ea4bca5c.js";import{U as E}from"./UiButtonLoading-8a0e711d.js";import{U as T}from"./UiTooltip-b38045bf.js";import{U as x}from"./UiCheckbox-fa9f1ce9.js";import{U as C}from"./UiInput-de72e1ee.js";import{U as H}from"./UiSwitcher-bf0903c2.js";const k=S({components:{UiSelect:I,UiButtonLoading:E,UiTooltip:T,UiCheckbox:x,UiInput:C,UiSwitcher:H},data(){return{storeId:"",storeName:"",storeWebsite:"",storeCurrencySelect:"",invoiceExpires:null,buttonLoading:!1,addressHoldTimeValue:"",acceptPaymentAtActualRateValue:!1,enabledStore:!1,enabledStaticAddresses:!1}},computed:{storeIdFromUrl(){return this.$route.params.store_id},...f("stores",{id:"id",name:"name",site:"site",currency:"currency",invoiceExpirationTime:"invoiceExpirationTime",addressHoldTime:"addressHoldTime",acceptPaymentAtActualRate:"acceptPaymentAtActualRate",storeStatus:"storeStatus",staticAddresses:"staticAddresses"}),...y("dictionaries",{fiatCurrencies:"fiatCurrencies"})},watch:{id(){this.syncDataFromVuex()}},created(){this.loadStore(),this.syncDataFromVuex()},methods:{async updateGeneralSettings(){try{this.buttonLoading=!0,await this.updateStore({storeId:this.storeIdFromUrl,payload:{name:this.storeName,site:this.storeWebsite,currency:this.storeCurrencySelect,invoiceExpirationTime:this.invoiceExpires,addressHoldTime:this.addressHoldTimeValue,acceptPaymentAtActualRate:this.acceptPaymentAtActualRateValue,status:this.enabledStore?1:0,staticAddresses:this.enabledStaticAddresses?1:0}}),this.buttonLoading=!1,this.$toast.success(this.$t("Store successfully updated"))}catch{this.buttonLoading=!1}},async loadStore(){this.setIsStoreLoading(!0),await this.loadStoreById(this.storeIdFromUrl)},switchEnabledStoreHandler(){this.enabledStore=!this.enabledStore},switchEnabledStaticAddresses(){this.enabledStaticAddresses=!this.enabledStaticAddresses},syncDataFromVuex(){this.storeId=this.id,this.storeName=this.name,this.storeWebsite=this.site,this.storeCurrencySelect=this.currency,this.invoiceExpires=this.invoiceExpirationTime,this.addressHoldTimeValue=this.addressHoldTime,this.acceptPaymentAtActualRateValue=this.acceptPaymentAtActualRate,this.enabledStore=!!this.storeStatus,this.enabledStaticAddresses=!!this.staticAddresses},...v("stores",["setIsStoreLoading"]),...V("stores",["updateStore","loadStoreById"])}});const N={class:"card common-wrapper"},P={class:"text-2xl mb-6"},R={class:"form-inputs"},D={class:"text-2xl mb-6"},L={class:"payment"},B={class:"form-group !hidden"},G={for:"currencySelect",class:"self-start"},W={class:"form-group"},F={for:"invoiceExpires",class:"self-start flex items-center gap-2"},z={class:"flex max-w-180px items-center"},M={class:"text-center p-2 border bg-gray-200 rounded-r-sm"},j={class:"text-2xl mb-6"},q={class:"form-group"},J={for:"addressHoldTime",class:"self-start flex items-center gap-2"},K={class:"flex max-w-180px items-center"},O={class:"text-center p-2 border bg-gray-200 rounded-r-sm"},Q={class:"text-2xl mb-6"},X={class:"flex items-center gap-3"},Y={class:"text-2xl mb-6"},Z={class:"mb-4"},ee={class:"flex items-center gap-2"},te={class:"text-2xl mb-6"},se={class:"mb-4"},ae={class:"flex items-center gap-2"};function oe(e,a,ie,de,le,re){const l=d("ui-input"),u=d("ui-select"),m=d("feather-icon"),p=d("ui-tooltip"),h=d("ui-checkbox"),r=d("ui-switcher"),b=d("ui-button-loading");return n(),_("div",N,[t("div",P,s(e.$t("General")),1),t("form",{class:"form",onSubmit:a[7]||(a[7]=w((...o)=>e.updateGeneralSettings&&e.updateGeneralSettings(...o),["prevent"]))},[t("div",R,[i(l,{disabled:"",modelValue:e.storeId,"onUpdate:modelValue":a[0]||(a[0]=o=>e.storeId=o),type:"text",id:"storeId",label:e.$t("Store ID")},null,8,["modelValue","label"]),i(l,{required:"",modelValue:e.storeName,"onUpdate:modelValue":a[1]||(a[1]=o=>e.storeName=o),type:"text",id:"storeName",label:e.$t("Store Name")},null,8,["modelValue","label"]),i(l,{modelValue:e.storeWebsite,"onUpdate:modelValue":a[2]||(a[2]=o=>e.storeWebsite=o),type:"text",id:"storeWebsite",label:e.$t("Store Website")},null,8,["modelValue","label"])]),t("div",null,[t("div",D,s(e.$t("Payment")),1),t("div",L,[t("div",B,[t("label",G,s(e.$t("Default currency")),1),e.fiatCurrencies.length?(n(),g(u,{key:0,id:"currencySelect",class:"max-w-90px h-40px",modelValue:e.storeCurrencySelect,"onUpdate:modelValue":a[3]||(a[3]=o=>e.storeCurrencySelect=o),options:e.fiatCurrencies},null,8,["modelValue","options"])):$("",!0)]),t("div",W,[t("label",F,[t("span",null,s(e.$t("Invoice expires if the full amount has not been paid after")),1),i(p,{class:"!flex","text-width":"300px",text:e.$t("payment_tooltip_text")},{default:c(()=>[i(m,{type:"help-circle",size:"18",class:"opacity-55 hover:opacity-100"})]),_:1},8,["text"])]),t("div",z,[i(l,{modelValue:e.invoiceExpires,"onUpdate:modelValue":a[4]||(a[4]=o=>e.invoiceExpires=o),type:"number",id:"invoiceExpires",class:"w-1/2 z-1"},null,8,["modelValue"]),t("div",M,s(e.$t("minutes")),1)])])])]),t("div",null,[t("div",j,s(e.$t("Address Hold Time")),1),t("div",q,[t("label",J,s(e.$t("Invoice address hold time")),1),t("div",K,[i(l,{modelValue:e.addressHoldTimeValue,"onUpdate:modelValue":a[5]||(a[5]=o=>e.addressHoldTimeValue=o),type:"number",id:"addressHoldTime",class:"w-1/2 z-1"},null,8,["modelValue"]),t("div",O,s(e.$t("minutes")),1)])])]),t("div",null,[t("div",Q,s(e.$t("Invoice Actual Rate")),1),t("div",X,[i(h,{modelValue:e.acceptPaymentAtActualRateValue,"onUpdate:modelValue":a[6]||(a[6]=o=>e.acceptPaymentAtActualRateValue=o)},null,8,["modelValue"]),t("span",null,s(e.$t("Accept invoice payment at actual currency rate")),1)])]),t("div",null,[t("div",Y,s(e.$t("Store Status")),1),t("div",Z,s(e.$t("store_disabled_text_help")),1),t("div",ee,[i(r,{checked:e.enabledStore,onSwitched:e.switchEnabledStoreHandler},null,8,["checked","onSwitched"]),t("div",null,s(e.enabledStore?e.$t("Store Enabled"):e.$t("Store Disabled")),1)])]),t("div",null,[t("div",te,s(e.$t("Static Addresses")),1),t("div",se,s(e.$t("static_addresses_disabled_text_help")),1),t("div",ae,[i(r,{checked:e.enabledStaticAddresses,onSwitched:e.switchEnabledStaticAddresses},null,8,["checked","onSwitched"]),t("div",null,s(e.enabledStaticAddresses?e.$t("Static Addresses Enabled"):e.$t("Static Addresses Disabled")),1)])]),i(b,{class:"button button-primary py-2 px-4 self-start",type:"submit",loading:e.buttonLoading},{default:c(()=>[U(s(e.$t("Save")),1)]),_:1},8,["loading"])],32)])}const Se=A(k,[["render",oe],["__scopeId","data-v-7fa2975a"]]);export{Se as default};
