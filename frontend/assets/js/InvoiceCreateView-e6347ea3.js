import{d as f,m as u,k as V,_ as y,r as n,o as i,c as g,a as r,t as a,h as c,i as m,e as s,w as I,l as U,j as b}from"./flag-icons.min-86ec5348.js";import{U as h}from"./UiSelect-ea4bca5c.js";import{U as v}from"./UiButtonLoading-8a0e711d.js";import{U as S}from"./UiInput-de72e1ee.js";const C=f({components:{UiSelect:h,UiButtonLoading:v,UiInput:S},data(){return{storeIdSelect:"",orderId:"",amount:"",currencySelect:"",itemDescription:"",returnUrl:"",successUrl:"",buttonLoading:!1}},computed:{...u("dictionaries",{fiatCurrencies:"fiatCurrencies"}),...u("stores",{getStoreOptionsLocal:"getStoreOptionsLocal"})},watch:{fiatCurrencies(){this.syncDataFromVuex()}},mounted(){this.syncDataFromVuex()},methods:{async createInvoiceHandler(){try{this.buttonLoading=!0;const e=await this.createInvoice({storeId:this.storeIdSelect,orderId:this.orderId,amount:this.amount||null,currencyCode:this.currencySelect,description:this.itemDescription,returnUrl:this.returnUrl,successUrl:this.successUrl});this.buttonLoading=!1,this.$toast.success(this.$t("Invoice successfully created")),this.$router.push({name:"invoice-details",params:{invoice_id:e.id}})}catch{this.buttonLoading=!1}},syncDataFromVuex(){var e,t;this.currencySelect=(e=this.fiatCurrencies[0])==null?void 0:e.value,this.storeIdSelect=(t=this.getStoreOptionsLocal[0])==null?void 0:t.value},...V("invoices",["createInvoice"])}});const $={class:"card common-wrapper"},L={class:"page-title mb-6"},D={class:"form-group"},w={"data-required":"",for:"storeId",class:"self-start"},k={class:"grid grid-cols-[3fr,1fr] gap-4 <phone-lg:grid-cols-[1fr]"},O={class:"form-group"},q={for:"currencySelect",class:"self-start"};function B(e,t,N,F,H,A){const d=n("ui-select"),l=n("ui-input"),p=n("ui-button-loading");return i(),g("div",$,[r("div",L,a(e.$t("Create Invoice")),1),r("form",{class:"form",onSubmit:t[7]||(t[7]=U((...o)=>e.createInvoiceHandler&&e.createInvoiceHandler(...o),["prevent"]))},[r("div",D,[r("label",w,a(e.$t("Store")),1),e.getStoreOptionsLocal.length?(i(),c(d,{key:0,class:"h-40px",id:"storeId",modelValue:e.storeIdSelect,"onUpdate:modelValue":t[0]||(t[0]=o=>e.storeIdSelect=o),options:e.getStoreOptionsLocal},null,8,["modelValue","options"])):m("",!0)]),s(l,{required:"",modelValue:e.orderId,"onUpdate:modelValue":t[1]||(t[1]=o=>e.orderId=o),type:"text",id:"orderId","label-required-mark":"on",label:e.$t("Order Id")},null,8,["modelValue","label"]),r("div",k,[s(l,{modelValue:e.amount,"onUpdate:modelValue":t[2]||(t[2]=o=>e.amount=o),type:"number",step:"0.01",id:"amount",label:e.$t("Amount")},null,8,["modelValue","label"]),r("div",O,[r("label",q,a(e.$t("Currency")),1),e.fiatCurrencies.length?(i(),c(d,{key:0,id:"currencySelect",class:"h-39px min-w-90px",modelValue:e.currencySelect,"onUpdate:modelValue":t[3]||(t[3]=o=>e.currencySelect=o),options:e.fiatCurrencies},null,8,["modelValue","options"])):m("",!0)])]),s(l,{modelValue:e.itemDescription,"onUpdate:modelValue":t[4]||(t[4]=o=>e.itemDescription=o),type:"text",id:"itemDescription",label:e.$t("Item Description")},null,8,["modelValue","label"]),s(l,{required:!1,modelValue:e.returnUrl,"onUpdate:modelValue":t[5]||(t[5]=o=>e.returnUrl=o),type:"url",id:"returnUrl",label:e.$t("Return Url")},null,8,["modelValue","label"]),s(l,{required:!1,modelValue:e.successUrl,"onUpdate:modelValue":t[6]||(t[6]=o=>e.successUrl=o),type:"url",id:"successUrl",label:e.$t("Success Url")},null,8,["modelValue","label"]),s(p,{class:"button button-primary py-2 px-4 self-start",type:"submit",loading:e.buttonLoading},{default:I(()=>[b(a(e.$t("Create")),1)]),_:1},8,["loading"])],32)])}const R=y(C,[["render",B],["__scopeId","data-v-1453cafd"]]);export{R as default};
