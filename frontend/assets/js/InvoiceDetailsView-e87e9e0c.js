import{d as k,m,_ as x,o as s,c as l,a as t,t as o,F as r,q as u,n as g,i as v,j as I,r as h,e as c,f as S,g as U,k as T,w as f,h as w}from"./flag-icons.min-86ec5348.js";import{U as W}from"./UiCopyToClipboard-54d0ebb6.js";import{U as C}from"./UiSkeletonBox-7e5f2b59.js";import{U as R}from"./UiTable-55d04511.js";import"./UiSelect-ea4bca5c.js";import"./UiPagination-4e2c3226.js";import"./UiLoading-237702fa.js";const B=k({data(){return{tableColumns:[{label:"Url",field:"url",textAlign:"text-left"},{label:"Created At",field:"createdAt",textAlign:"text-center"},{label:"Type",field:"type",textAlign:"text-center"},{label:"Status",field:"status",textAlign:"text-center"},{label:"Status Code",field:"responseStatusCode",textAlign:"text-center"},{label:"Request",field:"request",textAlign:"text-center"},{label:"Response",field:"response",textAlign:"text-center"}],requestsArray:[],responseArray:[]}},computed:{...m("invoices",{invoiceDetailsWebhookHistory:"getInvoiceDetailsWebhookHistory"})},watch:{invoiceDetailsWebhookHistory(){this.requestsArray=Array(this.invoiceDetailsWebhookHistory.length).fill(!1),this.responseArray=Array(this.invoiceDetailsWebhookHistory.length).fill(!1)}},methods:{showHideRequests(e){this.requestsArray=this.requestsArray.map((y,p)=>e===p?!this.requestsArray[p]:this.requestsArray[p])},showHideResponses(e){this.responseArray=this.responseArray.map((y,p)=>e===p?!this.responseArray[p]:this.responseArray[p])}}});const N={class:"card"},V={class:"card-title mb-4"},P={class:"h-scroll"},M={class:"w-full"},j={class:"border-b border-gray-200"},E={key:0,class:"break-all"},F=["onClick"],J={key:0,class:"link"},O={key:1,class:"link"},z={key:0,class:"pre text-left"},G=["onClick"],L={key:0,class:"link"},K={key:1,class:"link"},Q={key:0,class:"pre text-left"};function X(e,y,p,A,$,D){return s(),l("div",N,[t("div",V,o(e.$t("Webhooks History")),1),t("div",P,[t("table",M,[t("thead",null,[t("tr",j,[(s(!0),l(r,null,u(e.tableColumns,(n,a)=>(s(),l("th",{key:a,class:g(["text-gray-600 font-500 uppercase py-4 px-3 align-top text-12px",[n.textAlign,{"request-col":n.field==="request","response-col":n.field==="response"}]])},[t("div",null,o(e.$t(n.label)),1)],2))),128))])]),t("tbody",null,[(s(!0),l(r,null,u(e.invoiceDetailsWebhookHistory,(n,a)=>(s(),l("tr",{key:a,class:"border-b border-gray-200"},[(s(!0),l(r,null,u(e.tableColumns,(d,_)=>(s(),l("td",{key:_,class:g(["py-4 px-3",[d.textAlign,{"request-col":d.field==="request","response-col":d.field==="response"}]])},[d.field==="url"?(s(),l("div",E,o(n.url),1)):d.field==="request"?(s(),l(r,{key:1},[t("div",{"aria-hidden":"true",onClick:b=>e.showHideRequests(a)},[e.requestsArray[a]?(s(),l("span",O,o(e.$t("Hide")),1)):(s(),l("span",J,o(e.$t("Show")),1))],8,F),e.requestsArray[a]?(s(),l("pre",z,o(JSON.parse(n.request,null,2)),1)):v("",!0)],64)):d.field==="response"?(s(),l(r,{key:2},[t("div",{"aria-hidden":"true",onClick:b=>e.showHideResponses(a)},[e.responseArray[a]?(s(),l("span",K,o(e.$t("Hide")),1)):(s(),l("span",L,o(e.$t("Show")),1))],8,G),e.responseArray[a]?(s(),l("pre",Q,o(JSON.parse(n.response,null,2)),1)):v("",!0)],64)):(s(),l(r,{key:3},[I(o(n[d.field]),1)],64))],2))),128))]))),128))])])])])}const Y=x(B,[["render",X],["__scopeId","data-v-a295bdb7"]]),Z=k({components:{UiSkeletonBox:C},props:{loading:{type:Boolean}},computed:{...m("invoices",{history:"getInvoiceDetailsHistory"})}}),ee={class:"card"},te={class:"card-title mb-4"},se={key:0,class:"py-4"},le={key:1},oe={class:"grid gap-2 grid-cols-[170px,1fr] items-center py-4"},ie={class:"break-all"};function ae(e,y,p,A,$,D){const n=h("ui-skeleton-box");return s(),l("div",ee,[t("div",te,o(e.$t("Invoice History")),1),e.loading?(s(),l("div",se,[c(n,{height:"21px",width:"100%"})])):(s(),l("div",le,[(s(!0),l(r,null,u(e.history,(a,d)=>(s(),l("div",{key:d,class:"border-b"},[t("div",oe,[t("div",null,o(a.createdAt),1),t("div",ie,o(a.text),1)])]))),128))]))])}const ne=x(Z,[["render",ae]]),re=k({components:{UiCopyToClipboard:W,UiSkeletonBox:C,UiTable:R,WebhookHistoryTable:Y,InvoiceDetailsHistory:ne},data(){return{invoiceDetailsColums:[{label:"Store",field:"storeName",textAlign:"text-left"},{label:"Invoice Id",field:"id",textAlign:"text-left"},{label:"Store Id",field:"storeId",textAlign:"text-left"},{label:"Status",field:"status",textAlign:"text-left"},{label:"Created Date",field:"createdAt",textAlign:"text-left"},{label:"Expiration Date",field:"expiredAt",textAlign:"text-left"},{label:"Description",field:"description",textAlign:"text-left"},{label:"Return Url",field:"returnUrl",textAlign:"text-left"},{label:"Success Url",field:"successUrl",textAlign:"text-left"},{label:"Price",field:"amount",textAlign:"text-left"}],invoiceSummaryColumns:[{label:"Payment Method",field:"currency",textAlign:"text-left"},{label:"Address",field:"address",textAlign:"text-left"},{label:"Rate",field:"rate",textAlign:"text-left"},{label:"Paid",field:"balance",textAlign:"text-right"}],invoicetransactionsColumns:[{label:"Payment Method",field:"currency",textAlign:"text-left"},{label:"Date",field:"createdAt",textAlign:"text-left"},{label:"Transaction Hash",field:"tx",textAlign:"text-left"},{label:"Sender",field:"sender",textAlign:"text-left"},{label:"Amount",field:"amount",textAlign:"text-right"}],loading:!0}},computed:{invoiceId(){return this.$route.params.invoice_id},...S("invoices",{invoiceDetailsAddresses:"invoiceDetailsAddresses"}),...m("invoices",{invoiceDetails:"getInvoiceDetails",invoiceDetailsTransactions:"getInvoiceDetailsTransactions"})},created(){this.loadInvoicesDetailsData()},unmounted(){this.clearInvoiceDetailsData()},methods:{async loadInvoicesDetailsData(){try{await this.loadInvoiceDetails(this.invoiceId),this.loading=!1}catch{this.loading=!1}},...U("invoices",["clearInvoiceDetailsData"]),...T("invoices",["loadInvoiceDetails"])}});const de={class:"flex flex-col gap-8"},ce={class:"flex items-center justify-between gap-2 <desktop:flex-col <desktop:items-start"},pe={class:"invoice-title"},ue={class:"button-block"},he={class:"flex gap-6"},_e=["href"],ye={class:"card"},be={class:"card-title mb-4"},fe={key:0,class:"w-full"},ve={class:"py-2"},ge={key:1,class:"w-full"},ke={key:0,class:"break-all py-2"},me={key:1,class:"break-all py-2"},xe={key:2,class:"break-all py-2"},Ae={class:"card"},$e={class:"card-title mb-4"},De={key:0,class:"w-full"},we={class:"py-2"},Ie={key:1,class:"w-full"},Ce={class:"border-b"},qe={class:"py-2 pr-3 font-500 text-gray-600 text-left"},He={class:"break-all py-2"},Se={class:"border-b"},Ue={class:"py-2 pr-3 font-500 text-gray-600 text-left"},Te={class:"break-all py-2"},We={class:"card"},Re={class:"card-title mb-4"},Be={key:0,class:"w-full"},Ne={class:"py-4"},Ve={key:0,class:"break-all flex items-center gap-2"},Pe={key:1},Me={class:"card"},je={class:"card-title mb-4"},Ee={key:0,class:"w-full"},Fe={class:"py-4"},Je={class:"flex items-center gap-2"},Oe={key:0,class:"flex items-center gap-2"};function ze(e,y,p,A,$,D){const n=h("router-link"),a=h("ui-skeleton-box"),d=h("invoice-details-history"),_=h("ui-copy-to-clipboard"),b=h("ui-table"),q=h("webhook-history-table");return s(),l("div",de,[t("div",null,[t("div",ce,[t("div",pe,[t("span",null,o(e.$t("Invoice")),1),t("span",null,o(e.invoiceId),1)]),t("div",ue,[t("div",he,[e.invoiceDetails.status==="waiting"||e.invoiceDetails.status==="partially_paid"?(s(),l("a",{key:0,href:`/invoices/${e.invoiceId}`,class:"button button-primary px-6 py-3 flex items-center gap-2"},o(e.$t("Checkout")),9,_e)):v("",!0),c(n,{to:{name:"invoices"},class:"button button-primary px-6 py-3 flex items-center gap-2"},{default:f(()=>[I(o(e.$t("Back")),1)]),_:1})])])])]),t("div",ye,[t("div",be,o(e.$t("Invoice Information")),1),e.loading?(s(),l("table",fe,[t("tbody",null,[(s(),l(r,null,u(10,i=>t("tr",{key:i,class:"border-b"},[t("td",ve,[c(a,{height:"17.5px",width:"100%"})])])),64))])])):(s(),l("table",ge,[t("tbody",null,[(s(!0),l(r,null,u(e.invoiceDetailsColums,(i,H)=>(s(),l("tr",{key:H,class:"border-b"},[t("th",{class:g(["py-2 pr-3 font-500 text-gray-600",i.textAlign])},o(e.$t(i.label)),3),i.field==="amount"?(s(),l("td",ke,o(e.invoiceDetails.amount)+" $ ",1)):i.field==="status"?(s(),l("td",me,o(e.$t(e.invoiceDetails.status)),1)):(s(),l("td",xe,o(e.invoiceDetails[i.field]),1))]))),128))])]))]),t("div",Ae,[t("div",$e,o(e.$t("User Information")),1),e.loading?(s(),l("table",De,[t("tbody",null,[(s(),l(r,null,u(2,i=>t("tr",{key:i,class:"border-b"},[t("td",we,[c(a,{height:"17.5px",width:"100%"})])])),64))])])):(s(),l("table",Ie,[t("tbody",null,[t("tr",Ce,[t("th",qe,o(e.$t("Ip")),1),t("td",He,o(e.invoiceDetails.ip),1)]),t("tr",Se,[t("th",Ue,o(e.$t("UserAgent")),1),t("td",Te,o(e.invoiceDetails.userAgent),1)])])]))]),c(d,{loading:e.loading},null,8,["loading"]),t("div",We,[t("div",Re,o(e.$t("Invoice Summary")),1),e.loading?(s(),l("table",Be,[t("tbody",null,[(s(),l(r,null,u(2,i=>t("tr",{key:i,class:"border-b"},[t("td",Ne,[c(a,{height:"20px",width:"100%"})])])),64))])])):(s(),w(b,{key:1,columns:e.invoiceSummaryColumns,data:e.invoiceDetailsAddresses},{"cell-address":f(({row:i})=>[t("div",null,[i.address?(s(),l("div",Ve,[t("span",null,o(i.address),1),c(_,{"text-to-copy":i.address},null,8,["text-to-copy"])])):(s(),l("div",Pe,o(e.$t("Address does not requested yet")),1))])]),_:1},8,["columns","data"]))]),t("div",Me,[t("div",je,o(e.$t("Transactions")),1),e.loading?(s(),l("table",Ee,[t("tbody",null,[(s(),l(r,null,u(2,i=>t("tr",{key:i,class:"border-b last:border-0"},[t("td",Fe,[c(a,{height:"20px",width:"100%"})])])),64))])])):(s(),w(b,{key:1,columns:e.invoicetransactionsColumns,data:e.invoiceDetailsTransactions},{"cell-tx":f(({row:i})=>[t("div",Je,[t("span",null,o(`${i.tx.slice(0,7)}...${i.tx.slice(-5)}`),1),c(_,{"text-to-copy":i.tx},null,8,["text-to-copy"])])]),"cell-sender":f(({row:i})=>[i.sender?(s(),l("div",Oe,[t("span",null,o(i.sender),1),c(_,{"text-to-copy":i.sender},null,8,["text-to-copy"])])):v("",!0)]),_:1},8,["columns","data"]))]),c(q)])}const et=x(re,[["render",ze],["__scopeId","data-v-ada91138"]]);export{et as default};
