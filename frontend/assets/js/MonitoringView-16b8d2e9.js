import{d as u,m as b,k as v,_ as p,r as c,o,c as n,a as t,t as e,e as d,w as l,j as y,n as $,i as k,x as S,p as w,b as x,f as A,F as C,q as M}from"./flag-icons.min-86ec5348.js";import{U}from"./UiTable-55d04511.js";import"./UiSelect-ea4bca5c.js";import"./UiPagination-4e2c3226.js";import"./UiLoading-237702fa.js";const D=u({components:{UiTable:U},data(){return{tableColumns:[{label:"System",field:"name",textAlign:"text-left"},{label:"Status",field:"status",textAlign:"text-center"},{label:"Message",field:"message",textAlign:"text-center"},{label:"Last Trigger",field:"lastTrigger",textAlign:"text-right"}]}},computed:{statusClass(){return s=>{switch(s){case"up":return"success-status";case"unknown":return"waiting-status";case"down":return"error-status";default:return"waiting-status"}}},...b("monitoring",{statusAll:"getStatusAll"})},async created(){this.statusAll.length&&this.$store.commit("app/setProgressBar","stop"),await this.loadStatusAll(),this.$store.commit("app/setProgressBar","stop")},methods:{...v("monitoring",["loadStatusAll"])}}),P={key:0,class:"card"},B={class:"card-title mb-4"},T={class:"flex justify-center"};function F(s,_,m,g,f,h){const i=c("router-link"),r=c("ui-table");return s.statusAll.length?(o(),n("div",P,[t("div",B,e(s.$t("Systems status")),1),d(r,{columns:s.tableColumns,data:s.statusAll},{"cell-name":l(({row:a})=>[d(i,{class:"link",to:{name:"monitoring-service",params:{service_id:a.serviceId}}},{default:l(()=>[y(e(a.name),1)]),_:2},1032,["to"])]),"cell-status":l(({row:a})=>[t("span",{class:$(s.statusClass(a.status))},e(a.statusTitle),3)]),"cell-message":l(({row:a})=>[t("div",T,[t("span",{class:$(["whitespace-pre-wrap max-w-400px break-all",s.statusClass(a.status)])},e(a.message),3)])]),_:1},8,["columns","data"])])):k("",!0)}const I=p(D,[["render",F]]),N=u({props:{percent:{type:String}}});const V=s=>(w("data-v-5228e86f"),s=s(),x(),s),q={class:"diagram"},L={viewBox:"0 0 32 32"},j=V(()=>t("circle",{r:"16",cx:"16",cy:"16",class:"circle"},null,-1)),z=["stroke-dasharray"],Q={class:"diagram-data"};function E(s,_,m,g,f,h){return o(),n("div",q,[(o(),n("svg",L,[j,t("circle",{r:"16",cx:"16",cy:"16","stroke-dasharray":`${s.percent} 100`,class:"circle-diagrams"},null,8,z)])),t("div",Q,[S(s.$slots,"default",{},void 0,!0)])])}const G=p(N,[["render",E],["__scopeId","data-v-5228e86f"]]),H=u({components:{UiDiagram:G},data(){return{tableColumns:[{label:"Default",field:"default",textAlign:"text-left"},{label:"Notifications",field:"notifications",textAlign:"text-left"}]}},computed:{...A("monitoring",{disk:"serverMonitoringDisk",queues:"serverMonitoringQueues"}),diskUsagePercent(){return this.disk.diskSpaceFreePercent?(100-this.disk.diskSpaceFreePercent).toString():"0"}},created(){this.loadServerMonitoring()},methods:{...v("monitoring",["loadServerMonitoring"])}}),J={class:"grid grid-cols-[1fr,1fr] <tablet:grid-cols-[1fr] gap-6"},K={class:"card"},O={class:"card-title mb-8"},R={class:"flex items-center gap-6"},W={class:"flex flex-col"},X={class:"flex flex-col gap-6"},Y={class:"flex item-center gap-2"},Z={class:"font-600"},ss={class:"flex item-center gap-2"},ts={class:"font-600"},es={class:"card"},as={class:"card-title mb-8"},os={key:0,class:"w-full"},ns={class:"break-all py-2"};function rs(s,_,m,g,f,h){const i=c("ui-diagram");return o(),n("div",J,[t("div",K,[t("div",O,e(s.$t("Disk Spaces")),1),t("div",R,[d(i,{percent:s.diskUsagePercent},{default:l(()=>[t("div",W,[t("span",null,e(s.$t("Disk Usage")),1),t("span",null,e(s.diskUsagePercent)+"%",1)])]),_:1},8,["percent"]),t("div",X,[t("div",Y,[t("span",Z,e(s.$t("total_memory"))+":",1),t("span",null,e(s.disk.diskTotal),1)]),t("div",ss,[t("span",ts,e(s.$t("free_memory"))+":",1),t("span",null,e(s.disk.diskFree),1)])])])]),t("div",es,[t("div",as,e(s.$t("Queues")),1),s.queues.length?(o(),n("table",os,[t("tbody",null,[(o(!0),n(C,null,M(s.tableColumns,(r,a)=>(o(),n("tr",{key:a,class:"border-b last:border-b-0"},[t("th",{class:$(["py-2 pr-3 font-500 text-gray-600 w-240px",r.textAlign])},e(s.$t(r.label)),3),t("td",ns,e(s.queues[a].size),1)]))),128))])])):k("",!0)])])}const is=p(H,[["render",rs]]),ls=u({components:{SystemsStatusList:I,ServerMonitoringCard:is}}),cs={class:"page-title mb-6"},ds={class:"flex flex-col gap-6"};function us(s,_,m,g,f,h){const i=c("server-monitoring-card"),r=c("systems-status-list");return o(),n("div",null,[t("div",cs,e(s.$t("Monitoring")),1),t("div",ds,[d(i),d(r)])])}const hs=p(ls,[["render",us]]);export{hs as default};
