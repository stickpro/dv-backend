import{d as f,k as h,_ as y,r as i,o as l,c as d,a as o,t as a,l as w,e as n,w as m,j as u}from"./flag-icons.min-86ec5348.js";import{U as b}from"./UiButtonLoading-8a0e711d.js";import{U as g}from"./UiInput-de72e1ee.js";const $=f({components:{UiButtonLoading:b,UiInput:g},data(){return{email:"",buttonLoading:!1,password:"",confirmPassword:""}},computed:{token(){return this.$route.query.token}},methods:{...h("auth",["resetPassword","setNewPassword"]),async resetHandler(){try{this.buttonLoading=!0,await this.resetPassword({email:this.email}),this.buttonLoading=!1,this.$toast.success(this.$t("Email successfully sent"))}catch{this.buttonLoading=!1}},async setNewPasswordHandler(){try{this.buttonLoading=!0,await this.setNewPassword({token:this.token,password:this.password,password_confirmation:this.confirmPassword}),this.buttonLoading=!1}catch{this.buttonLoading=!1}}}}),k={class:"card"},P={class:"text-3xl text-center"},V={class:"mt-1 text-xl text-center"},L={key:0,class:"mt-1"},v={class:"mb-4 text-center text-gray-600"},N={key:1,class:"mt-1"},U={class:"mb-4 text-center text-gray-600"},_={class:"flex items-center justify-center pt-4 text-center"},H={class:"text-sm"};function B(e,t,S,q,C,E){const r=i("ui-input"),p=i("ui-button-loading"),c=i("router-link");return l(),d("div",k,[o("div",null,[o("h2",P,a(e.$t("Merchant")),1),o("h3",V,a(e.$t("Reset password")),1),e.token?(l(),d("div",N,[o("p",U,a(e.$t("Ð¡reate and confirm a new password")),1),o("form",{onSubmit:t[4]||(t[4]=w((...s)=>e.setNewPasswordHandler&&e.setNewPasswordHandler(...s),["prevent"]))},[n(r,{required:"",modelValue:e.password,"onUpdate:modelValue":t[2]||(t[2]=s=>e.password=s),type:"password",name:"password",class:"mb-4",placeholder:e.$t("New password")},null,8,["modelValue","placeholder"]),n(r,{required:"",modelValue:e.confirmPassword,"onUpdate:modelValue":t[3]||(t[3]=s=>e.confirmPassword=s),type:"password",name:"confirmPassword",class:"my-4",placeholder:e.$t("Confirm new password")},null,8,["modelValue","placeholder"]),n(p,{class:"button button-primary w-full my-4 p-2",type:"submit",loading:e.buttonLoading},{default:m(()=>[u(a(e.$t("Reset")),1)]),_:1},8,["loading"])],32)])):(l(),d("div",L,[o("p",v,a(e.$t("We'll email you a link to reset your password")),1),o("form",{onSubmit:t[1]||(t[1]=w((...s)=>e.resetHandler&&e.resetHandler(...s),["prevent"]))},[n(r,{required:"",modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=s=>e.email=s),type:"email",name:"email",class:"mb-2",placeholder:e.$t("Email")},null,8,["modelValue","placeholder"]),n(p,{class:"button button-primary w-full my-4 p-2",type:"submit",loading:e.buttonLoading},{default:m(()=>[u(a(e.$t("Send")),1)]),_:1},8,["loading"])],32)]))]),o("div",_,[o("span",H,a(e.$t("Back to")),1),n(c,{to:"/login",class:"mx-2 text-sm text-primary-500 hover:text-primary-600 cursor-pointer"},{default:m(()=>[u(a(e.$t("Sign in")),1)]),_:1})])])}const A=y($,[["render",B]]);export{A as default};
