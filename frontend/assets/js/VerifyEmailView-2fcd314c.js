import{d as _,_ as p,o,c as n,p as k,b as x,a as s,m as B,k as c,r as l,h as w,i as a,e as d,t as i,w as u,j as h}from"./flag-icons.min-86ec5348.js";import{U as C}from"./UiButtonLoading-8a0e711d.js";const E=_({});const e=t=>(k("data-v-77468076"),t=t(),x(),t),I={class:"lds-spinner"},L=e(()=>s("div",null,null,-1)),S=e(()=>s("div",null,null,-1)),M=e(()=>s("div",null,null,-1)),V=e(()=>s("div",null,null,-1)),H=e(()=>s("div",null,null,-1)),N=e(()=>s("div",null,null,-1)),U=e(()=>s("div",null,null,-1)),A=e(()=>s("div",null,null,-1)),j=e(()=>s("div",null,null,-1)),q=e(()=>s("div",null,null,-1)),P=e(()=>s("div",null,null,-1)),z=e(()=>s("div",null,null,-1)),D=[L,S,M,V,H,N,U,A,j,q,P,z];function G(t,f,m,g,v,$){return o(),n("div",I,D)}const T=p(E,[["render",G],["__scopeId","data-v-77468076"]]),F=_({components:{IPreloader:T,UiButtonLoading:C},data(){return{loading:!1,buttonLoading:!1,status:"",statusMsg:""}},computed:{id(){return this.$route.query.id},hash(){return this.$route.query.hash},...B("auth",["isAuth"])},created(){this.verifyEmailHandler()},methods:{async verifyEmailHandler(){try{this.status="",this.statusMsg="",this.loading=!0,await this.verifyEmail({id:Number(this.id),hash:this.hash}),this.loading=!1}catch(t){t.status===404?(this.status="verified",this.statusMsg=this.$t("Email already verified")):(this.status="error",this.statusMsg=this.$t("Something went wrong")),this.loading=!1}},async backButtonHandler(){try{this.buttonLoading=!0,this.isAuth?(await this.loadStores(),await this.loadUserInfo(),this.$router.push({name:"dashboard"})):this.$router.push({name:"login"}),this.buttonLoading=!1}catch{this.buttonLoading=!1}},...c("stores",["loadStores"]),...c("user",["verifyEmail","loadUserInfo"])}}),J={class:"p-80px flex items-center justify-center"},K={class:"flex flex-col items-center gap-8"},O={key:1,class:"flex flex-col items-center gap-6"},Q={class:"flex flex-col items-center gap-2 text-success-500"},R={class:"text-2xl"},W={key:2,class:"flex flex-col items-center gap-6 text-success-500"},X={class:"text-2xl"},Y={key:3,class:"text-2xl"};function Z(t,f,m,g,v,$){const y=l("i-preloader"),b=l("feather-icon"),r=l("ui-button-loading");return o(),n("div",J,[s("div",K,[t.loading?(o(),w(y,{key:0})):a("",!0),!t.loading&&!t.status?(o(),n("div",O,[s("div",Q,[d(b,{type:"check",size:"40"}),s("span",R,i(t.$t("Email successfully verified")),1)]),d(r,{class:"button button-primary py-2 px-8",loading:t.buttonLoading,onClick:t.backButtonHandler},{default:u(()=>[h(i(t.$t("Back")),1)]),_:1},8,["loading","onClick"])])):a("",!0),t.status==="verified"?(o(),n("div",W,[s("span",X,i(t.statusMsg),1),d(r,{class:"button button-primary py-2 px-8",loading:t.buttonLoading,onClick:t.backButtonHandler},{default:u(()=>[h(i(t.$t("Back")),1)]),_:1},8,["loading","onClick"])])):a("",!0),t.status==="error"?(o(),n("div",Y,i(t.statusMsg),1)):a("",!0)])])}const et=p(F,[["render",Z]]);export{et as default};
